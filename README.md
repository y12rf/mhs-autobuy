# 米画师自动购买橱窗
![MIT](https://img.shields.io/badge/license-MIT-blue) ![Tampermonkey](https://img.shields.io/badge/GM-Tampermonkey-brightgreen)

---

## ✨ 功能一览
| 功能 | 说明 |
| --- | --- |
| **一键抢购** | 自动点击购买 → 勾协 → 输密码 → 可选自动确认。 |
| **库存检测** | 刷新前/手动检测「立即购买」按钮。 |
| **自动刷新** | 随机 ±20 % 抖动，最小 3 s。 |
| **余额熔断** | 检测到余额不足即暂停刷新 & 自动购。 |
| **可视化面板** | **Shadow DOM** 内渲染，完全隔离站点样式。 |

---

## 📦 安装

1. **浏览器装好 [Tampermonkey](https://www.tampermonkey.net/)**  
2. 打开脚本链接并确认安装  
 
 ```
 https://raw.githubusercontent.com/y12rf/mhs-autobuy/main/mhs_autobuy.user.js
 ```
3. 进入橱窗页面，右栏会出现「米画师助手」面板。

---

## ⚙️ 配置项

| 选项 | 默认 | 说明 |
| --- | --- | --- |
| 自动模式 | 关闭 | 有货即执行购买流程 |
| 自动刷新 | 开启 | 周期刷新页面；支持随机抖动 |
| 自动确认 | 关闭 | 自动点击支付弹窗中的 **确认购买** |
| 库存检测 | 开启 | 购买前再次确认按钮可见 |
| 支付密码 | 空 | 设置后自动输入；留空可手动输入 |
| 刷新间隔 | 30 s | 3 – 3600 秒可调 |

---

## 🚀 快速上手

1. **先「设置支付密码」**  
2. 打开「自动刷新」→ 调整数值  
3. 有货时可先点「测试购买流程」验证  
4. 确认无误后 **开启「自动模式」+「自动确认」** 

> **余额不足** 时脚本会自动熔断并提示「充值后手动开启」。

---

## 🛡️ 免责声明  
- 本脚本仅供学习与个人自动化之用，请遵守米画师平台规则。  
- 长期刷新会触发风控，风险自负。
